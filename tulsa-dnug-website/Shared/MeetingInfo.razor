@using tulsa_dnug_website.core.Models
@using tulsa_dnug_website.infrastructure.Services

@inject MeetingInfoService MService
<h3 class="meeting-info-title">Meeting Location</h3>
<div class="meeting-info-body">
    <span>@details.Address</span> <br />
    <span>@details.City, @details.State @details.Zip</span> <br />
    <b>Meeting Time:</b> @details.MeetingTime <br />
    <span>@details.Building</span>
</div>

<ul>
    @foreach (var item in details.Agenda)
    {
        <li>@item.StartTime - @item.Description</li>
    }
</ul>

    @functions {
        MeetingDetails details = new MeetingDetails();
        protected override async Task OnInitAsync()
        {
            details = await MService.GetMeetingInfo();
            details.Agenda = await MService.GetAgenda();
        }
    }
